# Reference: <https://postmarketos.org/devicepkg>
pkgname=device-samsung-i9100
pkgver=12
pkgrel=0
pkgdesc="Samsung Galaxy SII"
url="https://postmarketos.org"
arch="armv7"
license="MIT"
depends="
	firmware-samsung-i9100
	firmware-samsung-s5k5baf
	libsamsung-ipc
	linux-firmware-s5p-mfc
	linux-postmarketos-exynos4
	mesa-egl
	postmarketos-base
	u-boot-samsung-i9100>=2025.07
	v4l-utils
	"
makedepends="devicepkg-dev"
install="$pkgname.post-install"
options="!check !archcheck"
subpackages="
	$pkgname-openrc:openrc
"
source="
	deviceinfo
	media-pipeline.initd
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname
}

openrc() {
	install_if="$pkgname=$pkgver-r$pkgrel openrc"
	install="$subpkgname.post-install"
	install -Dm755 "$srcdir"/media-pipeline.initd "$subpkgdir"/etc/init.d/media-pipeline
}

sha512sums="
7299545003590d7f060cface4c0e15bfb8234c02f1dedb9aea0c9510b590a7f890a1b3bcb9958e090737613c4bc4305cacd673e7fe0293c179cbc822076ba0d6  deviceinfo
d3f06476be583f095189557e5269866cfc9346ddbf8d78267d7562fad7f5eca6b09b81fd08cd9690ecf88105bafe8f3ebd9136b68ab5cdaa8bfff740a8bdf3d2  media-pipeline.initd
"
